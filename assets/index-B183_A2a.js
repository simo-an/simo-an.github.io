import{_ as R,a as Q,b as X,g as Y,s as Z,c as A,u as ee,d as te,e as ne,f as V}from"./sendEmail-Ddi_ArMF.js";import{d as $,o as a,f as y,w as r,_ as D,b as c,g as oe,h as se,r as _,c as h,a as o,i as I,t as v,u as m,s as k,j as H,k as ae,l as le,m as F,n as ie,p as b,q as ue,v as re,x as E,y as ce,e as L,z as j,A as w,B as x,C as de,D as pe,F as S,E as M,G as _e,H as me,I as ve,J as ye,K as fe,L as he,M as U}from"./index-QIdG7Ruf.js";const $e=c("path",{d:"M512 64c212.074667 0 384 170.282667 384 380.373333 0 93.866667-34.346667 179.84-91.306667 246.186667l-6.613333 7.616c-43.904 49.877333-124.586667 130.432-242.069333 241.664a64 64 0 0 1-84.864 2.816l-3.157334-2.816-36.544-34.752c-103.573333-98.901333-174.293333-170.389333-212.117333-214.485333A376.746667 376.746667 0 0 1 128 444.373333C128 234.282667 299.925333 64 512 64z m0 64C335.146667 128 192 269.781333 192 444.373333c0 76.010667 27.136 147.754667 75.882667 204.544l6.357333 7.296c39.957333 45.354667 113.450667 119.018667 219.669333 219.989334l18.090667 17.173333 52.224-49.749333c93.482667-89.664 157.674667-154.858667 191.914667-194.752A312.661333 312.661333 0 0 0 832 444.373333C832 269.781333 688.853333 128 512 128z m0 170.666667a149.333333 149.333333 0 1 1 0 298.666666 149.333333 149.333333 0 0 1 0-298.666666z m0 64a85.333333 85.333333 0 1 0 0 170.666666 85.333333 85.333333 0 0 0 0-170.666666z","p-id":"2742"},null,-1),ge=$({__name:"IconLocation",props:{size:{},color:{},transparent:{type:Boolean}},setup(i){const e=i;return(n,l)=>(a(),y(D,{pid:"2741",shape:e},{default:r(()=>[$e]),_:1},8,["shape"]))}}),Ie={id:"product-category"},qe=$({__name:"ProductCategory",setup(i){const e=oe().map(t=>({label:t.name,key:t.id,children:se(t.id).map(s=>({label:s.name,key:s.id}))})),n=[];function l(t){if(t.length>n.length){const s=t.find(d=>!n.includes(d));s&&ae(s)}n.length=0,n.push(...t)}return(t,s)=>{const d=_("n-menu");return a(),h("div",Ie,[o(R,null,{default:r(()=>[I(v(t.$t("productCategory")),1)]),_:1}),o(d,{class:"category-menu",options:m(e),indent:24,rootIndent:16,defaultValue:m(k),value:m(k),"onUpdate:value":m(H),"onUpdate:expandedKeys":l},null,8,["options","defaultValue","value","onUpdate:value"])])}}}),be={id:"contactus-simplify"},ke={class:"item company-location"},Ce={class:"item company-email"},Le=["href"],we={class:"item company-phone"},Ee=$({__name:"ContactUsSimplify",setup(i){return(e,n)=>(a(),h("div",be,[o(R,{route:"/contact"},{default:r(()=>[I("Contact US")]),_:1}),c("div",ke,[o(ge),c("p",null,v(m(le)),1)]),c("div",Ce,[o(Q),c("a",{href:`mailto: ${m(F)}`},v(m(F)),9,Le)]),c("div",we,[o(X),c("p",null,v(m(ie)),1)])]))}}),Ne=$({__name:"HoveredImage",props:{url:{}},setup(i){return(e,n)=>{const l=_("n-image");return a(),y(l,{class:"hovered-image",width:"400",objectFit:"cover",src:e.url,alt:""},null,8,["src"])}}}),C=b(new Set);Pe();function Pe(){let i=Y("InquiryList");Array.isArray(i)&&(i=i.filter(e=>ue.some(n=>n.id===e)),C.value=new Set(i))}function Se(){Z("InquiryList",C.value)}function ze(i){C.value.add(i)}function Be(i){C.value.delete(i)}re(C,()=>{Se()},{deep:!0});const O=$({__name:"InquiryContent",props:{productList:{},closable:{type:Boolean}},emits:["finished","close"],setup(i,{emit:e}){const n=i,l=e,t=b(null),s=b(!1);function d(){return n.productList.map((p,q)=>`      ${q+1}. ${p.title.trim()};`).join(`
`)}const u=b({name:A.name,email:A.email,content:`Hello,
    I'm interested in the following products:

${d()}

    Can you give me a reasonable price?
    Waiting for you replay.

thanks.`}),g={name:{required:!0,trigger:["blur","input"],message:"Please enter your name"},email:{required:!0,trigger:["blur","input"],message:"Please enter your email"}};function f(){t.value&&t.value.validate(async p=>{if(!p){ee(u.value.name,u.value.email);try{s.value=!0,await te(ne(u.value.name,u.value.email,u.value.content)),l("finished")}finally{s.value=!1}}})}return(p,q)=>{const N=_("NEllipsis"),z=_("n-input"),B=_("n-form-item"),K=_("n-form"),G=_("NButton"),J=_("n-card");return a(),y(J,{id:"inquiry-content",size:"huge",role:"dialog",closable:p.closable,onClose:q[3]||(q[3]=P=>l("close"))},{header:r(()=>[o(N,null,{default:r(()=>[I(v(p.$t("contactSendInquiryList")),1)]),_:1})]),footer:r(()=>[o(G,{loading:s.value,type:"primary",onClick:f,size:"large"},{default:r(()=>[I(v(p.$t("inquiryImmediately")),1)]),_:1},8,["loading"])]),default:r(()=>[o(K,{ref_key:"inquiryForm",ref:t,model:u.value,rules:g,labelPlacement:"left",labelWidth:"auto",requireMarkPlacement:"right-hanging",size:"large"},{default:r(()=>[o(B,{label:p.$t("userName"),path:"name"},{default:r(()=>[o(z,{value:u.value.name,"onUpdate:value":q[0]||(q[0]=P=>u.value.name=P),placeholder:p.$t("userName")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(B,{label:p.$t("userEmail"),path:"email"},{default:r(()=>[o(z,{value:u.value.email,"onUpdate:value":q[1]||(q[1]=P=>u.value.email=P),placeholder:p.$t("userEmail")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(B,{label:p.$t("inquiryContent"),path:"content"},{default:r(()=>[o(z,{value:u.value.content,"onUpdate:value":q[2]||(q[2]=P=>u.value.content=P),type:"textarea",rows:"10",placeholder:p.$t("inquiryContent")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["closable"])}}}),T=$({__name:"ProductAction",props:{product:{}},setup(i){const e=V(),n=i,l=E(()=>C.value.has(n.product.id)),t=b(!1);function s(){const{id:g,title:f}=n.product;ze(g),e.success({title:"Added to Inquiry Successfully",content:f,duration:2e3})}function d(){const{title:g}=n.product;e.success({title:"Inquiry Sent Successfully",content:g,duration:2e3}),t.value=!0}const u=b(!1);return(g,f)=>{const p=_("NButton"),q=_("NModal");return a(),h("div",{class:"product-action",onClick:f[4]||(f[4]=ce(()=>{},["stop"]))},[l.value?(a(),y(p,{key:0,secondary:"",type:"success",onClick:f[0]||(f[0]=N=>m(Be)(g.product.id))},{default:r(()=>[I(v(g.$t("inquiryAdded")),1)]),_:1})):(a(),y(p,{key:1,ghost:"",type:"primary",onClick:s},{default:r(()=>[I(v(g.$t("inquiryAdd")),1)]),_:1})),o(p,{type:"primary",onClick:f[1]||(f[1]=N=>u.value=!0)},{default:r(()=>[I(v(g.$t("inquiryDirectly")),1)]),_:1}),o(q,{show:u.value,"onUpdate:show":f[3]||(f[3]=N=>u.value=N),closeOnEsc:t.value,maskClosable:t.value},{default:r(()=>[o(O,{productList:[g.product],closable:"",onClose:f[2]||(f[2]=N=>u.value=!1),onFinished:d},null,8,["productList"])]),_:1},8,["show","closeOnEsc","maskClosable"])])}}}),Me={key:0,class:"product-details"},Ae={class:"product-info"},Fe={class:"info"},Ue=["title"],Re=$({__name:"ProductDetails",setup(i){const e=E(()=>j(w.value));return(n,l)=>{const t=_("NEllipsis");return e.value?(a(),h("div",Me,[c("div",Ae,[o(Ne,{url:e.value.thumbnail},null,8,["url"]),c("div",Fe,[o(t,{class:"title"},{default:r(()=>[I(v(e.value.title),1)]),_:1}),c("p",{class:"details",title:e.value.details},v(e.value.details),9,Ue),o(T,{product:e.value},null,8,["product"])])]),L("",!0)])):L("",!0)}}}),Ve=["src"],De={class:"product-info"},He=["title"],je=$({__name:"ProductItem",props:{product:{}},setup(i){return(e,n)=>{const l=_("NEllipsis");return a(),h("div",{class:"product-item",onClick:n[0]||(n[0]=t=>m(x)(e.product.id))},[c("img",{class:"thumbnail",src:e.product.thumbnail,alt:""},null,8,Ve),c("div",De,[o(l,{class:"title"},{default:r(()=>[I(v(e.product.title),1)]),_:1}),c("p",{class:"details",title:e.product.details},v(e.product.details),9,He),o(T,{product:e.product},null,8,["product"])])])}}}),W=de(je,[["__scopeId","data-v-8ac3d08f"]]),xe=$({__name:"EmptyProductList",setup(i){return(e,n)=>{const l=_("n-button"),t=_("n-empty");return a(),y(t,{description:"no more products"},{icon:r(()=>[]),extra:r(()=>[o(l,{ghost:"",type:"primary",onClick:n[0]||(n[0]=s=>m(H)())},{default:r(()=>[I(" Look at the popular products ")]),_:1})]),_:1})}}}),Oe={id:"product-list"},Te={class:"category-title"},We=$({__name:"ProductList",setup(i){const e=b([]),n=E(()=>_e(k.value));return pe(()=>{e.value=me(k.value)}),(l,t)=>{const s=_("n-divider");return a(),h("div",Oe,[c("div",Te,v(n.value&&n.value.name),1),o(s),e.value.length>0?(a(!0),h(S,{key:0},M(e.value,d=>(a(),y(W,{key:d.id,product:d},null,8,["product"]))),128)):(a(),y(xe,{key:1}))])}}}),Ke={id:"hot-product"},Ge={class:"category-title"},Je=$({__name:"HotProductList",setup(i){const e=E(()=>ve());return(n,l)=>{const t=_("n-divider");return a(),h("div",Ke,[c("div",Ge,v(n.$t("productHot")),1),o(t),(a(!0),h(S,null,M(e.value,s=>(a(),y(W,{key:s.id,product:s},null,8,["product"]))),128))])}}}),Qe=c("path",{d:"M704 932.9c-9.9 0-19.1-3.8-26.1-10.8l-384-384c-14.4-14.4-14.4-37.8 0-52.2l384-384c7-7 16.2-10.8 26.1-10.8 9.9 0 19.1 3.8 26.1 10.8 7 7 10.8 16.2 10.8 26.1s-3.8 19.1-10.8 26.1L372.2 512l357.9 357.9c7 7 10.8 16.2 10.8 26.1s-3.8 19.1-10.8 26.1c-7 7-16.2 10.8-26.1 10.8z","p-id":"2731"},null,-1),Xe=$({__name:"IconArrowLeft",props:{size:{},color:{},transparent:{type:Boolean}},setup(i){const e=i;return(n,l)=>(a(),y(D,{pid:"2730",shape:e},{default:r(()=>[I("> "),Qe]),_:1},8,["shape"]))}}),Ye=["src"],Ze={class:"product-info"},et=["title"],tt=$({__name:"InquiryItem",props:{product:{}},setup(i){return(e,n)=>{const l=_("NEllipsis");return a(),h("div",{class:"inquiry-item",onClick:n[0]||(n[0]=t=>m(x)(e.product.id))},[c("img",{class:"thumbnail",src:e.product.thumbnail,alt:""},null,8,Ye),c("div",Ze,[o(l,{class:"title"},{default:r(()=>[I(v(e.product.title),1)]),_:1}),c("p",{class:"details",title:e.product.details},v(e.product.details),9,et)])])}}}),nt={id:"inquiry-list"},ot=$({__name:"InquiryList",setup(i){const e=V(),n=E(()=>Array.from(C.value).map(d=>j(d)).filter(d=>!!d));console.warn(n.value);const l=b(!1),t=b(!1);function s(){e.success({title:"Inquiries Sent Successfully",duration:2e3}),t.value=!0}return(d,u)=>{const g=_("NButton"),f=_("NModal");return a(),h(S,null,[c("div",nt,[(a(!0),h(S,null,M(n.value,p=>(a(),y(tt,{key:p.id,product:p},null,8,["product"]))),128))]),o(g,{type:"primary",size:"large",onClick:u[0]||(u[0]=p=>l.value=!0)},{default:r(()=>[I(v(d.$t("contactSendInquiryList")),1)]),_:1}),o(f,{show:l.value,"onUpdate:show":u[2]||(u[2]=p=>l.value=p),closeOnEsc:t.value,maskClosable:t.value},{default:r(()=>[o(O,{productList:n.value,closable:"",onClose:u[1]||(u[1]=p=>l.value=!1),onFinished:s},null,8,["productList"])]),_:1},8,["show","closeOnEsc","maskClosable"])],64)}}}),st={key:0,class:"title"},at=c("div",null,null,-1),lt={key:0,class:"inquiry-content"},it=$({__name:"InquiryListEntry",setup(i){const e=b(!0),n=E(()=>e.value?`${Math.max(window.innerHeight-500,600)}px`:"50px"),l=E(()=>e.value?`${Math.max(window.innerWidth/6,320)}px`:"50px");return(t,s)=>{const d=_("n-badge");return a(),h("div",{id:"inquiry-list-entry",style:fe({height:n.value,width:l.value})},[c("header",null,[o(d,{show:!e.value,value:m(C).size,max:99},null,8,["show","value"]),c("div",{class:"expand-tool",onClick:s[0]||(s[0]=u=>e.value=!e.value)},[e.value?(a(),y(ye,{key:0})):(a(),y(Xe,{key:1}))]),e.value?(a(),h("div",st,v(t.$t("contactInquiryList")),1)):L("",!0),at]),e.value?(a(),h("div",lt,[o(ot)])):L("",!0)],4)}}}),ut={id:"view-products"},rt={class:"side-menu"},ct={class:"product-content"},_t=$({__name:"index",setup(i){function e(t){t||(t=U.currentRoute.value);const s=t.query;return{categoryId:s.category,productId:s.product}}he((t,s,d)=>{const u=l(e(t));return u?d(u):d()});const n=l(e());n&&U.push(n);function l(t){if(!t.categoryId&&!t.productId&&(w.value||k.value)){const s={category:k.value,product:w.value};return s.category||Reflect.deleteProperty(s,"category"),s.product||Reflect.deleteProperty(s,"product"),{path:"/products",query:s}}return k.value=t.categoryId,w.value=t.productId,null}return(t,s)=>{const d=_("n-divider");return a(),h("div",ut,[c("div",rt,[o(qe),o(d),o(Ee)]),o(d,{vertical:""}),c("div",ct,[m(w)?(a(),y(Re,{key:0})):L("",!0),m(k)&&!m(w)?(a(),y(We,{key:1})):L("",!0),!m(k)&&!m(w)?(a(),y(Je,{key:2,hideTitle:""})):L("",!0)]),m(C).size>0?(a(),y(it,{key:0})):L("",!0)])}}});export{_t as default};
